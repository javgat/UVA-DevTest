<div class="my-2">
    <form (ngSubmit)='clickSearchTitle()' ngNativeValidate>
        <div class="input-group my-3">
            <input class="button btn btn-primary" type="submit" value="Buscar por título" />
            <input type="text" class="form-control" name="inputSearchTitle" [(ngModel)]="editLikeTitle"
                placeholder="Título" required pattern=".+" />
        </div>
        <div *ngIf="likeTitle!=undefined">
            <button type="button" class="btn btn-secondary" (click)="clickBorrarTitle()">Borrar filtro de
                título</button>
        </div>
    </form>
    <form (ngSubmit)='addSearchTagSubmit()' ngNativeValidate>
        <div class="input-group my-3">
            <input class="button btn btn-primary" type="submit" value="Filtrar etiqueta" />
            <input type="text" class="form-control" name="inputAddTag" [(ngModel)]="newSearchTag" placeholder="Etiqueta"
                required pattern=".+" list="auto_tags" autocomplete="off" (ngModelChange)="changeGetAutoTags()" />
            <datalist id="auto_tags">
                <option *ngFor="let autotag of autotags" value="{{autotag.tag}}">
            </datalist>
        </div>
    </form>
    <p *ngIf="searchTags.length>0">Etiquetas filtradas:
        <span *ngFor="let tags of searchTags">
            <span *ngFor="let tag of tags">
                <span class="badge bg-warning text-dark" role="button" id="{{tag}}" data-bs-toggle="dropdown"
                    aria-expanded="false">{{tag}}</span>&nbsp;
                <ul class="dropdown-menu" attr.aria-labelledby="{{tag}}">
                    <li><a class="dropdown-item" role="button" (click)="deleteSearchTagClick(tag)">Eliminar</a>
                    </li>
                </ul>
            </span>
        </span>
    </p>
    <form *ngIf="searchTags.length>0">
        <input type="radio" class="btn-check" name="options" id="option1" autocomplete="off" [checked]="orOperation"
            (click)="swapOrAndTags()">
        <label class="btn btn-outline-secondary" for="option1">Alguna de las etiquetas</label>

        <input type="radio" class="btn-check" name="options" id="option2" autocomplete="off" [checked]="!orOperation"
            (click)="swapOrAndTags()">
        <label class="btn btn-outline-secondary mx-2" for="option2">Todas las etiquetas</label>
    </form>
    <div class="form-check form-switch my-2" *ngIf="!hideSwitchInclude">
        <input class="form-check-input" type="checkbox" id="flexSwitchIncludeNonEdit" [checked]="includeNonEdit"
            (change)="changeFlexInclude()">
        <label class="form-check-label" for="flexSwitchIncludeNonEdit">{{includeLabel}}</label>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-hover table-primary my-3">
            <thead>
                <tr>
                    <th>Título</th>
                    <th>Autor</th>
                    <th role="button" (click)="clickOrderByTiempo()">
                        Tiempo Disponible
                        <span class="arrow-orderby" *ngIf="isMoreTimeSelected()"> &uarr;</span>
                        <span class="arrow-orderby" *ngIf="isLessTimeSelected()"> &darr;</span>
                        <span class="arrow-orderby" *ngIf="!isMoreTimeSelected() && !isLessTimeSelected()">
                            &#8597;</span>
                    </th>
                    <th *ngIf="!arePublished" role="button" (click)="clickOrderByFavoritos()">
                        Favoritos
                        <span class="arrow-orderby" *ngIf="isMoreFavSelected()"> &uarr;</span>
                        <span class="arrow-orderby" *ngIf="isLessFavSelected()"> &darr;</span>
                        <span class="arrow-orderby" *ngIf="!isMoreFavSelected() && !isLessFavSelected()"> &#8597;</span>
                    </th>
                </tr>
            </thead>
            <tbody *ngIf="!arePublished">
                <tr *ngFor="let test of tests" role="button" [routerLink]="['/et', test.id]">
                    <td>{{test.title}}</td>
                    <td>{{test.username}}</td>
                    <td>{{test.maxMinutes}} minutos</td>
                    <td>{{test.cantidadFavoritos}}</td>
                </tr>
            </tbody>
            <tbody *ngIf="arePublished">
                <tr *ngFor="let test of tests" role="button" [routerLink]="['/pt', test.id]">
                    <td>{{test.title}}</td>
                    <td>{{test.username}}</td>
                    <td>{{test.maxMinutes}} minutos</td>
                </tr>
            </tbody>
        </table>
    </div>
    <nav aria-label="Tests page navigation">
        <ul class="pagination justify-content-center">
            <li class="page-item" [ngClass]="{disabled: getCurrentPage()<=1}"><a class="page-link" role="button"
                    (click)="clickPreviousPage()">Anterior</a></li>
            <li *ngIf="getCurrentPage()>2" class="page-item"><a class="page-link" role="button"
                    (click)="clickFirstPage()">1</a></li>
            <li *ngIf="getCurrentPage()>2" class="page-item disabled"><a class="page-link">...</a></li>
            <li *ngIf="getCurrentPage()>1" class="page-item"><a class="page-link" role="button"
                    (click)="clickPreviousPage()">{{getCurrentPage()-1}}</a></li>
            <li class="page-item"><a class="page-link" role="button"
                    (click)="clickCurrentPage()">{{getCurrentPage()}}</a></li>
            <li *ngIf="hasNextPage()" class="page-item"><a class="page-link" role="button"
                    (click)="clickNextPage()">{{getCurrentPage()+1}}</a></li>
            <li *ngIf="hasNextPage()" class="page-item disabled"><a class="page-link">...</a></li>
            <li class="page-item" [ngClass]="{disabled: !hasNextPage()}"><a class="page-link" role="button"
                    (click)="clickNextPage()">Siguiente</a></li>
        </ul>
    </nav>
</div>